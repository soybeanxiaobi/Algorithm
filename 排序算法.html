<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>4种排序算法</title>
    <script>
        window.onload = function(){
            //插入初始数组
            var initArr = [10, 4, 8, 3]
            document.getElementById('initArr').innerHTML = `[${initArr}]`;

            var quickSort = document.getElementById('quickSort')
            var selectionSort = document.getElementById('selectSort')
            var bubbleSort = document.getElementById('bubbleSort')
            var insertSort = document.getElementById('insertSort')
    
            var reset = document.getElementById('reset');

            //快速排序
            quickSort.onclick = function(){
                var resultArr = quickSortFn(initArr);
               outResult(resultArr);
            }

            //选择排序
            selectionSort.onclick = function(){
                var resultArr = selectionSortFn(initArr);
                outResult(resultArr);                
            }

            //冒泡排序
            bubbleSort.onclick = function(){
                var resultArr = bubbleSortFn(initArr);
                outResult(resultArr)
            }

            //插入排序
            insertSort.onclick = function(){
                var resultArr = insertSortFn(initArr);
                outResult(resultArr)
            }


            //重置内容
            reset.onclick = function(){
                initArr = [10, 4, 8, 3, 2, 7, 5 ,9]
                document.getElementById('resultArr').innerHTML = '';
            }
        }

        //快速排序
        function quickSortFn(arr){
            // 如果数组长度<=1 ，则直接返回
            if (arr.length <= 1) return arr;
            //
            var bisectionIndex = Math.floor(arr.length/2);
            // 找基准，把基准从原数组中删除
            var bisection = arr.splice(bisection,1)[0];
            // console.log(bisection);

            // 定义作用数组
            var left = [];
            var right = [];

            // 比基准小的放left ，比基准大的放right
            for (var i = 0; i < arr.length; i++) {
                if (arr[i] <= bisection) {
                    left.push(arr[i]);
                }else{
                    right.push(arr[i]);
                }
                console.log(arr);
            }
            //递归
            return quickSortFn(left).concat([bisection],quickSortFn(right));
        }

        //选择排序
        function selectionSortFn(arr){
            console.log('原数组:['+ arr + ']')
            for (var i = 0; i < arr.length; i++) {
                for (var j = i+1; j < arr.length; j++) {
                    if (arr[i] > arr[j]) {
                        var temp = arr[i];
                        arr[i] = arr[j];
                        arr[j] = temp;
                    }
                }
                console.log(arr);
            }
            return arr;
        }
        //冒泡排序
        function bubbleSortFn(arr){
            console.log('原数组:['+arr + ']')
            for (var i = 0; i < arr.length-1; i++) {
                for (var j = 0; j < arr.length-1-i; j++) {
                //每次比较都会确定一个最小数，所以j < arr.length-1-i
                    if (arr[j] > arr[j+1]) {
                        var temp = arr[j];
                        arr[j] = arr[j+1];
                        arr[j+1] = temp;
                    }
                }
                console.log(arr)
            }
            return arr;
        }


        //插入排序
        function insertSortFn(arr){
            console.log('原数组:['+arr + ']')
            for (var i = 1; i < arr.length; i++) {
                var temp = arr[i];
                for (var j = i-1; j >=0 && temp < arr[j]; j--) {
                    arr[j+1] = arr[j];
                    arr[j] = temp;
                }
                console.log(arr)
            }
            return arr;
        }


        function outResult(resultArr){
            document.getElementById('resultArr').innerHTML = `[${resultArr}]`;
        }
    </script>
</head>
<body>
    <p>当前数组:<span id="initArr"></span></p>

    <button id="quickSort">快速排序</button>
    <button id="selectSort">选择排序</button>
    <button id="bubbleSort">冒泡排序</button>
    <button id="insertSort">插入排序</button>
    <button id="reset">重置</button>

    </p>排序后数组:<span id="resultArr"></span></p>
</body>
</html>

